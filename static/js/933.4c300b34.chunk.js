"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[933],{9933:function(n,t,e){e.r(t),e.d(t,{default:function(){return E}});var r,a,c,s,u,i,o,p=e(5861),f=e(885),d=e(7757),l=e.n(d),x=e(2791),h=e(501),m=e(4390),v=e(6355),g=e(168),y=e(6031),Z=y.ZP.form(r||(r=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),b=y.ZP.input(a||(a=(0,g.Z)(["\n  box-sizing: border-box;\n  height: 32px;\n  padding: 5px 10px;\n  width: 20%;\n\n  font-size: 16px;\n"]))),k=y.ZP.button(c||(c=(0,g.Z)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  background-color: transparent;\n  border: none;\n\n  &:hover,\n  &:focus {\n    color: red;\n  }\n"]))),w=y.ZP.ul(s||(s=(0,g.Z)(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  margin-top: 30px;\n\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 30px 20px;\n"]))),j=y.ZP.img(u||(u=(0,g.Z)(["\n  display: block;\n  max-width: 100%;\n  height: 340px;\n  object-fit: cover;\n"]))),_=y.ZP.h3(i||(i=(0,g.Z)(["\n  margin: 0;\n  margin-top: 12px;\n  font-size: 20px;\n"]))),P=(0,y.ZP)(h.rU)(o||(o=(0,g.Z)(["\n  color: black;\n  text-decoration: none;\n\n  &:hover,\n  &:focus {\n    color: red;\n  }\n"]))),z=e(660),q=e(184),S="idle",U="pending",C="resolved",D="rejected",E=function(){var n=(0,h.lr)(),t=(0,f.Z)(n,2),e=t[0],r=t[1],a=e.get("query"),c=function(n){var t=(0,x.useState)([]),e=(0,f.Z)(t,2),r=e[0],a=e[1],c=(0,x.useState)(S),s=(0,f.Z)(c,2),u=s[0],i=s[1],o=(0,x.useState)(null),d=(0,f.Z)(o,2),h=d[0],v=d[1];return(0,x.useEffect)((function(){function t(){return(t=(0,p.Z)(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=14;break}return i(U),t.prev=2,t.next=5,(0,m.z1)(n);case 5:e=t.sent,a(e),i(C),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),v(t.t0),i(D);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n]),{movies:r,status:u,error:h}}(a),s=c.movies,u=c.status,i=c.error;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(Z,{onSubmit:function(n){n.preventDefault();var t=n.target.elements.search.value.trim();r({query:t})},children:[(0,q.jsx)(b,{type:"text",name:"search"}),(0,q.jsx)(k,{type:"submit",children:(0,q.jsx)(v.U41,{size:20})})]}),u===U&&(0,q.jsx)(z.$,{}),u===D&&(0,q.jsxs)("h1",{children:["Error: ",i.message]}),u===C&&(0,q.jsx)(w,{children:s.map((function(n){var t=n.title,e=n.name,r=n.poster_path,c=n.id;return(0,q.jsx)("li",{children:(0,q.jsxs)(P,{to:"/movies/".concat(c),state:{from:"/movies?query=".concat(a)},children:[(0,q.jsx)(j,{src:"https://image.tmdb.org/t/p/w500/".concat(r),alt:"".concat(t,"'s poster")}),(0,q.jsx)(_,{children:null!==t&&void 0!==t?t:e})]})},c)}))})]})}},4390:function(n,t,e){e.d(t,{Df:function(){return o},Ku:function(){return d},Pg:function(){return p},fI:function(){return f},z1:function(){return l}});var r=e(5861),a=e(7757),c=e.n(a),s=e(4569),u=e.n(s),i="80dd5d087ca76f72d259ad6d0e54d71f";u().defaults.baseURL="https://api.themoviedb.org/3";var o=function(){var n=(0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("/trending/all/day?api_key=".concat(i));case 2:return n.abrupt("return",n.sent.data.results);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("/movie/".concat(t,"?api_key=").concat(i));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("/movie/".concat(t,"/reviews?api_key=").concat(i));case 2:return n.abrupt("return",n.sent.data.results);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("/movie/".concat(t,"/credits?api_key=").concat(i));case 2:return n.abrupt("return",n.sent.data.cast);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u().get("/search/movie?query=".concat(t,"&api_key=").concat(i));case 2:return n.abrupt("return",n.sent.data.results);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=933.4c300b34.chunk.js.map